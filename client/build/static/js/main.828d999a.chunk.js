(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{43:function(e,t,a){e.exports=a.p+"static/media/movie_search.648caa76.png"},47:function(e,t,a){e.exports=a.p+"static/media/omdb_shoppies_banner.ea2990a4.jpg"},49:function(e,t,a){e.exports=a.p+"static/media/movie_award.0ef1e44e.png"},52:function(e,t,a){e.exports=a(85)},81:function(e,t,a){},82:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),o=a(18),i=a(7);function m(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function s(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":""," justify-content-around")},a)}function u(e){var t=e.size,a=e.children,n=e.order;return r.a.createElement("div",{className:t.split(" ").map((function(e){return"col-"+e})).join(" ")+n},a)}var E=a(8),d=a(11),b=a(51),v=a(24),g=a(6),f=Object(n.createContext)(),p=f.Provider,h=function(e,t){switch(t.type){case"SET_CURRENT_MOVIE":return Object(g.a)(Object(g.a)({},e),{},{currentMovie:t.movie,loading:!1});case"UPDATE_MOVIES":return Object(g.a)(Object(g.a)({},e),{},{nominations:Object(v.a)(t.nominations),loading:!1});case"UPDATE_SEARCH_MOVIES":return Object(g.a)(Object(g.a)({},e),{},{movies:Object(v.a)(t.movies),loading:!1});case"ADD_MOVIE":return Object(g.a)(Object(g.a)({},e),{},{movies:[t.movie].concat(Object(v.a)(e.movies)),loading:!1});case"REMOVE_MOVIE":return Object(g.a)(Object(g.a)({},e),{},{nominations:e.nominations.filter((function(e){return e._id!==t._id}))});case"ADD_FAVORITE":return Object(g.a)(Object(g.a)({},e),{},{favorites:[t.movie].concat(Object(v.a)(e.favorites)),loading:!1});case"UPDATE_FAVORITES":return Object(g.a)(Object(g.a)({},e),{},{favorites:Object(v.a)(e.favorites),loading:!1});case"REMOVE_FAVORITE":return Object(g.a)(Object(g.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.id!==t.id}))});case"LOADING":return Object(g.a)(Object(g.a)({},e),{},{loading:!0});default:return e}},O=function(e){e.value;var t=Object(b.a)(e,["value"]),a=Object(n.useReducer)(h,{movies:[],nominations:[],currentMovie:{title:"",year:"",type:"",poster:"",id:""},favorites:[],loading:!1}),l=Object(d.a)(a,2),c=l[0],o=l[1];return r.a.createElement(p,Object.assign({value:[c,o]},t))},y=function(){return Object(n.useContext)(f)},x=a(33),j=a(21),N=a(89),D=a(44),w=a(27),T=a(50),I=a(20),_=a.n(I),R="https://www.omdbapi.com/?apikey=",M=function(){return _.a.get("/api/movies")},V=function(e){return _.a.delete("/api/movies/"+e)},A=function(e){return console.log(e),_.a.post("/api/movies",e)},P=function(e){return console.log('searching by title "'.concat(e,'"')),console.log(R+"847eaf93&type=movie&s="+e),_.a.get(R+"847eaf93&type=movie&s="+e)},C=function(e){return console.log('getting movie details for "'.concat(e,'"')),_.a.get(R+"847eaf93&type=movie&i="+e)},S=a(43),k=a.n(S);var Y=function(){var e=Object(n.useRef)(),t=y(),a=Object(d.a)(t,2),l=a[0],c=a[1],i=function(e){var t=e.data.Search,a=[];console.log(t),t.forEach((function(e){a.includes(e.imdbID)||(a.push(e.imdbID),C(e.imdbID).then((function(e){var t;console.log(e);var a=(t={Title:e.data.Title,Year:e.data.Year,Type:e.data.Type,Poster:e.data.Poster,ID:e.data.imdbID,Runtime:e.data.Runtime,Genre:e.data.Genre,Director:e.data.Director,Writer:e.data.Writer,Actors:e.data.Actors,Plot:e.data.Plot,Language:e.data.Language,Country:e.data.Country,Awards:e.data.Awards},Object(E.a)(t,"Poster",e.data.Poster),Object(E.a)(t,"Ratings",e.data.Ratings),Object(E.a)(t,"Metascore",e.data.Metascore),Object(E.a)(t,"imdbRating",e.data.imdbRating),Object(E.a)(t,"imdbVotes",e.data.imdbVotes),Object(E.a)(t,"imdbID",e.data.imdbID),Object(E.a)(t,"Type",e.data.Type),Object(E.a)(t,"DVD",e.data.DVD),Object(E.a)(t,"BoxOffice",e.data.BoxOffice),Object(E.a)(t,"Production",e.data.Production),Object(E.a)(t,"Website",e.data.Website),Object(E.a)(t,"Response",e.data.Response),t);c({type:"ADD_MOVIE",movie:a})})))}))},m=function(e){V(e).then((function(){c({type:"REMOVE_MOVIE",_id:e})})).catch((function(e){return console.log(e)})),s()},s=function(){c({type:"REMOVE_FAVORITE",id:l.currentMovie.ID})};return r.a.createElement("div",{id:"nominations",className:"text-center"},r.a.createElement(N.a,{xs:{order:4},md:{order:4}},r.a.createElement(D.a,{xs:12},r.a.createElement("h3",{className:""},"Search Movies"),r.a.createElement(T.a,{name:"title",onSubmit:function(t){switch(t.preventDefault(),c({type:"LOADING"}),c({type:"UPDATE_SEARCH_MOVIES",movies:[]}),t.target.name){case"title":P(e.current.value.toLowerCase().trim()).then(i).catch((function(e){return console.log(e)}))}e.current.value=""}},r.a.createElement(x.a,{className:"mb-3 shadow"},r.a.createElement(w.a,{placeholder:"Search By Title...","aria-label":"Search By Title...","aria-describedby":"basic-addon2",ref:e}),r.a.createElement(x.a.Append,null,r.a.createElement(j.a,{type:"submit",variant:"primary"},"Search")))))),l.nominations.length>=5?r.a.createElement(N.a,{xs:{order:3},md:{order:2}},r.a.createElement(D.a,{xs:12},r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"You have 5 Nominees!  "),r.a.createElement(j.a,{className:"m-2 mb-4 p-2 shadow",variant:"warning",onClick:function(){return l.nominations.forEach((function(e){m(e._id)})),c({type:"LOADING"}),void c({type:"UPDATE_MOVIES",nominations:[]})}},r.a.createElement(o.b,{style:{textDecoration:"none",color:"black"},to:"/submit"},"Submit Nominations"))))):r.a.createElement("div",null),r.a.createElement(N.a,{xs:{order:2},md:{order:3}},r.a.createElement(D.a,{xs:12},r.a.createElement("div",{className:"jumbotron shadow",style:{padding:"10px"}},r.a.createElement("img",{className:"img-fluid img-thumbnail",src:k.a,style:{width:"435px"}})))))};a(81);function F(e){var t=e.children;return r.a.createElement("div",{className:"list-overflow-container shadow"},r.a.createElement("ul",{className:"list-group"},t))}function H(e){var t=e.children;return r.a.createElement("li",{className:"list-group-item"},t)}a(82);var z=a(15),B=a(90);var G=function(e){var t=y(),a=Object(d.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){var t=l.movies.filter((function(t){return t.ID===e.movie.ID}));c({type:"SET_CURRENT_MOVIE",movie:t[0]})}),[e.show]),r.a.createElement(z.a,{size:"lg",show:e.show,onHide:e.onHide,"aria-labelledby":"contained-modal-title-vcenter"},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,{id:"contained-modal-title-vcenter"},r.a.createElement(N.a,null,r.a.createElement(D.a,{xs:6,md:6},r.a.createElement("strong",null,e.movie.Title)),r.a.createElement(D.a,{xs:6,md:6},l.nominations.filter((function(e){return e.ID===l.currentMovie.ID})).length?r.a.createElement("p",{className:"btn btn-info",style:{width:"200px"}},r.a.createElement("span",null,"\u2705 ")," ",r.a.createElement("span",null," Already Nominated")):r.a.createElement(j.a,{className:"btn btn-info",style:{width:"200px"},onClick:function(){l.nominations.length>=5?alert("you already have 5 nominees! remove some of your current nominees or go ahead and submit them by clicking the button under the search bar."):A(l.currentMovie).then((function(e){c({type:"ADD_FAVORITE",movie:l.currentMovie})})).catch((function(e){return console.log(e)}))}},r.a.createElement("span",null,"\ud83c\udf9e ")," ",r.a.createElement("span",null," Nominate")))))),r.a.createElement(z.a.Body,{className:"show-grid"},r.a.createElement(B.a,null,r.a.createElement(N.a,{className:""},r.a.createElement(D.a,{xs:12,sm:12,md:12,lg:5,className:"text-center"},r.a.createElement("img",{src:e.movie.Poster,alt:e.movie.Title})),r.a.createElement(D.a,{xs:12,sm:12,md:12,lg:7},r.a.createElement(N.a,null,r.a.createElement(D.a,{xs:11,md:11},r.a.createElement("strong",null,"Year "),r.a.createElement("br",null),e.movie.Year,r.a.createElement("br",null),r.a.createElement("strong",null,"Genre"),r.a.createElement("br",null)," ",e.movie.Genre,r.a.createElement("br",null),r.a.createElement("strong",null,"Cast"),r.a.createElement("br",null)," ",e.movie.Actors,r.a.createElement("br",null),r.a.createElement("strong",null,"Director"),r.a.createElement("br",null)," ",e.movie.Director,r.a.createElement("br",null),r.a.createElement("strong",null,"Plot"),r.a.createElement("br",null)," ",e.movie.Plot,r.a.createElement("br",null),r.a.createElement("strong",null,"Country"),r.a.createElement("br",null)," ",e.movie.Country,r.a.createElement("br",null),r.a.createElement("strong",null,"Production"),r.a.createElement("br",null)," ",e.movie.Production)))))),r.a.createElement(z.a.Footer,null,r.a.createElement(j.a,{onClick:e.onHide},"Close")))};var U=function(){var e=y(),t=Object(d.a)(e,2),a=t[0],l=(t[1],Object(n.useState)({})),c=Object(d.a)(l,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{id:"searchResults",className:"mb-3 text-center"},r.a.createElement("h3",null,"Movie Results"),a.movies.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null,a.movies.slice().reverse().map((function(e,t){return r.a.createElement(H,{key:e.ID},r.a.createElement(N.a,null,r.a.createElement(D.a,{xs:2,className:"p-0"},r.a.createElement("img",{src:e.Poster,alt:e.Title,style:{height:"50px"}})),r.a.createElement(D.a,{xs:7},r.a.createElement("strong",null,e.Title.length<40?e.Title:e.Title.substring(0,20)+"...",r.a.createElement("br",null),e.Year.length<20?"".concat(e.Year):"...")),r.a.createElement(D.a,{xs:3,className:"p-0"},r.a.createElement(j.a,{className:"float-right",variant:"primary",onClick:function(){i(Object(g.a)(Object(g.a)({},o),{},Object(E.a)({},t,!0))),console.log(o[t])}},"View Details"),r.a.createElement(G,{key:e.ID,movie:e,show:o[t],onHide:function(){return i(Object(g.a)(Object(g.a)({},o),{},Object(E.a)({},t,!1)))}}))))})))):r.a.createElement("div",{className:"mt-4 mb-4 p-3 shadow",style:{border:"solid 1px lightgray",borderRadius:"5px 5px 5px 5px",backgroundColor:"rgb(255,255,255,0.4)"}},r.a.createElement("h4",{className:"mt-2"},"no results yet...")))};var W=function(e){var t=y(),a=Object(d.a)(t,2),l=a[0];return a[1],Object(n.useEffect)((function(){}),[e.show]),r.a.createElement(z.a,{size:"lg",show:e.show,onHide:e.onHide,"aria-labelledby":"contained-modal-title-vcenter"},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,{id:"contained-modal-title-vcenter"},r.a.createElement(N.a,null,r.a.createElement(D.a,{xs:6,md:6},r.a.createElement("strong",null,e.movie.Title)),r.a.createElement(D.a,{xs:6,md:6},r.a.createElement(j.a,{className:"btn btn-warning float-right",style:{width:"200px"},onClick:function(){return e.remove(l.currentMovie._id)}},"Remove Nominee"))))),r.a.createElement(z.a.Body,{className:"show-grid"},r.a.createElement(B.a,null,r.a.createElement(N.a,null,r.a.createElement(D.a,{xs:12,sm:12,md:12,lg:5,className:"text-center"},r.a.createElement("img",{src:e.movie.Poster,alt:e.movie.Title})),r.a.createElement(D.a,{xs:12,sm:12,md:12,lg:7},r.a.createElement(N.a,null,r.a.createElement(D.a,{xs:11,md:11},r.a.createElement("br",null),r.a.createElement("strong",null,"Year "),r.a.createElement("br",null),e.movie.Year,r.a.createElement("br",null),r.a.createElement("strong",null,"Genre"),r.a.createElement("br",null)," ",e.movie.Genre,r.a.createElement("br",null),r.a.createElement("strong",null,"Cast"),r.a.createElement("br",null)," ",e.movie.Actors,r.a.createElement("br",null),r.a.createElement("strong",null,"Director"),r.a.createElement("br",null)," ",e.movie.Director,r.a.createElement("br",null),r.a.createElement("strong",null,"Plot"),r.a.createElement("br",null)," ",e.movie.Plot,r.a.createElement("br",null),r.a.createElement("strong",null,"Country"),r.a.createElement("br",null)," ",e.movie.Country,r.a.createElement("br",null),r.a.createElement("strong",null,"Production"),r.a.createElement("br",null)," ",e.movie.Production)))))),r.a.createElement(z.a.Footer,null,r.a.createElement(j.a,{onClick:e.onHide},"Close")))};a(83);var L=function(){var e=y(),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),o=Object(d.a)(c,2),i=o[0],m=o[1],s=function(e){V(e).then((function(){l({type:"REMOVE_MOVIE",_id:e})})).catch((function(e){return console.log(e)})),l({type:"REMOVE_FAVORITE",id:a.currentMovie.ID})};return Object(n.useEffect)((function(){l({type:"LOADING"}),M().then((function(e){console.log("getting movies"),l({type:"UPDATE_MOVIES",nominations:e.data})})).catch((function(e){return console.log(e)}))}),[a.favorites]),r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",{id:"nominations"},"Your Nominees"),a.nominations.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{className:"shadow"},a.nominations.slice().reverse().map((function(e,t){return r.a.createElement(H,{key:e._id},r.a.createElement(N.a,null,r.a.createElement(D.a,{xs:2,className:"p-0"},r.a.createElement("img",{src:e.Poster,alt:e.Title,style:{height:"50px"}})),r.a.createElement(D.a,{xs:7},r.a.createElement("strong",null,e.Title.length<40?e.Title:e.Title.substring(0,20)+"...",r.a.createElement("br",null),e.Year.length<20?"".concat(e.Year):"...")),r.a.createElement(D.a,{xs:3,className:"p-0"},r.a.createElement(j.a,{className:"float-right",variant:"info",onClick:function(){m(Object(g.a)(Object(g.a)({},i),{},Object(E.a)({},t,!0))),function(e){var t=a.nominations.filter((function(t){return t._id===e}));l({type:"SET_CURRENT_MOVIE",movie:t[0]})}(e._id),console.log(i[t])}},"View Details"),r.a.createElement(W,{key:e._id,movie:e,show:i[t],onHide:function(){return m(Object(g.a)(Object(g.a)({},i),{},Object(E.a)({},t,!1)))},remove:s,dialogClassName:"modal-90w"}))))})))):r.a.createElement("h4",{className:"mt-5"},"No Nominees yet..."))},J=function(){return r.a.createElement(m,{fluid:!0},r.a.createElement(s,null,r.a.createElement(u,{size:"xl-4 lg-4 md-6 sm-9 xs-12",order:" order-3 order-sm-3 order-md-3 order-lg-1"},r.a.createElement(L,null)),r.a.createElement(u,{size:"xl-4 lg-4 md-6 sm-9 xs-12",order:" order-2 order-sm-2 order-md-2 order-lg-2"},r.a.createElement(Y,null)),r.a.createElement(u,{size:"xl-4 lg-4 md-7 sm-9 xs-12",order:" order-1 order-sm-1 order-md-1 order-lg-3"},r.a.createElement(U,null))))};var q=function(e){var t=e.children;return r.a.createElement("div",{style:{height:560,clear:"both",paddingTop:50,textAlign:"center"},className:"jumbotron border border-success"},t)},K=function(){return r.a.createElement(m,{fluid:!0},r.a.createElement(s,null,r.a.createElement(u,{size:"md-12"},r.a.createElement(q,null,r.a.createElement("h3",null,"404 Page Not Found"),r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"Try Refreshing the Page."))))))},Q=a(47),X=a.n(Q),Z=a(48);var $=function(){var e=y(),t=Object(d.a)(e,2),a=t[0];return t[1],r.a.createElement("div",{className:"mb-0 text-center"},r.a.createElement(Z.a,{className:"mb-0",style:{position:"relative",zIndex:"1",height:"128px",backgroundImage:"url(".concat(X.a,")"),backgroundSize:"1635px 120px",opacity:"50%"}}),r.a.createElement("h1",{className:"mb-0",style:{position:"relative",top:"-100px",zIndex:"2",color:"white",textShadow:"5px 3px 5px #000000"}},r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},to:"/"},"The Shoppies")),"http://localhost:3000/submit"===window.location.href?r.a.createElement("div",null):a.nominations.length>=5?r.a.createElement("h5",{style:{position:"relative",top:"-30px","margin-right":"40px","margin-left":"40px"}},"You have 5 Nominees! Submit your nominations."):r.a.createElement("h5",{style:{position:"relative",top:"-30px","margin-right":"40px","margin-left":"40px"}},"Search for Movies,  click to View Details,  Nominate your 5 favorite Movies,  & Submit your Nominations..."))},ee=a(84),te=a(49),ae=a.n(te),ne=function(){return r.a.createElement(B.a,null,r.a.createElement(N.a,null,r.a.createElement(D.a,null,r.a.createElement(Z.a,{className:"text-center fluid p-4"},r.a.createElement("h3",null,"Thank You for your Nominations!"),r.a.createElement("h3",null,r.a.createElement("span",null,"Check Back in a Week to see Who Won the awards.")),r.a.createElement(ee.a,{fluid:!0,src:ae.a})))))};var re=function(){return r.a.createElement(o.a,null,r.a.createElement(O,null,r.a.createElement($,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:J}),r.a.createElement(i.a,{exact:!0,path:"/home",component:J}),r.a.createElement(i.a,{exact:!0,path:"/submit",component:ne}),r.a.createElement(i.a,{component:K}))))};c.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.828d999a.chunk.js.map